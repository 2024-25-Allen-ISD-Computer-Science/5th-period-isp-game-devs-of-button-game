[gd_scene load_steps=14 format=3 uid="uid://bx3oib0sta2rs"]

[ext_resource type="PackedScene" uid="uid://bak8ltrhbmlv5" path="res://utils/CSGStairMaker3D.tscn" id="1_lybql"]
[ext_resource type="Script" path="res://Scripts/test_be_lvl.gd" id="1_rkptd"]
[ext_resource type="PackedScene" uid="uid://disigk36x6oed" path="res://Player/PlayerCharacter.tscn" id="2_ynylp"]
[ext_resource type="Texture2D" uid="uid://cc11qgiwgjyfx" path="res://Assets/RandomTxture.png" id="4_j5775"]
[ext_resource type="PackedScene" uid="uid://d13dpr7ndd5fy" path="res://utils/Enemy.tscn" id="5_0btn4"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_0itx7"]

[sub_resource type="BoxShape3D" id="BoxShape3D_sn4n4"]
size = Vector3(10, 0.2, 10)

[sub_resource type="BoxMesh" id="BoxMesh_vsl7l"]
size = Vector3(10, 0.2, 10)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_xp7kn"]
sky_energy_multiplier = 2.0
sun_angle_max = 65.56

[sub_resource type="Sky" id="Sky_jcvhx"]
sky_material = SubResource("ProceduralSkyMaterial_xp7kn")
process_mode = 3

[sub_resource type="Environment" id="Environment_ti6gk"]
background_mode = 2
sky = SubResource("Sky_jcvhx")
ambient_light_source = 3
reflected_light_source = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_137ot"]
albedo_texture = ExtResource("4_j5775")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iw1lc"]
albedo_color = Color(0, 0, 0, 1)

[node name="TestButtonevent" type="Node3D"]
script = ExtResource("1_rkptd")

[node name="floor" type="StaticBody3D" parent="."]
transform = Transform3D(4, 0, 0, 0, 1, 0, 0, 0, 4, 0, 0, 0)
physics_material_override = SubResource("PhysicsMaterial_0itx7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("BoxShape3D_sn4n4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floor"]
mesh = SubResource("BoxMesh_vsl7l")

[node name="wall1" type="StaticBody3D" parent="."]
transform = Transform3D(-8.74228e-09, -1, 0, 0.2, -4.37114e-08, 0, 0, 0, 4, -19.8917, 0.895556, -0.0416913)
physics_material_override = SubResource("PhysicsMaterial_0itx7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall1"]
shape = SubResource("BoxShape3D_sn4n4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall1"]
mesh = SubResource("BoxMesh_vsl7l")

[node name="wall2" type="StaticBody3D" parent="."]
transform = Transform3D(-8.74228e-09, -1, 0, 0.2, -4.37114e-08, 0, 0, 0, 4, 19.9064, 0.895556, -0.0416913)
physics_material_override = SubResource("PhysicsMaterial_0itx7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall2"]
shape = SubResource("BoxShape3D_sn4n4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall2"]
mesh = SubResource("BoxMesh_vsl7l")

[node name="wall3" type="StaticBody3D" parent="."]
transform = Transform3D(3.82137e-16, 4.37114e-08, 4, 0.2, -4.37114e-08, 0, 8.74228e-09, 1, -1.74846e-07, -0.0111203, 0.895556, 19.9039)
physics_material_override = SubResource("PhysicsMaterial_0itx7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall3"]
shape = SubResource("BoxShape3D_sn4n4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall3"]
mesh = SubResource("BoxMesh_vsl7l")

[node name="wall4" type="StaticBody3D" parent="."]
transform = Transform3D(3.82137e-16, 4.37114e-08, 4, 0.2, -4.37114e-08, 0, 8.74228e-09, 1, -1.74846e-07, -0.0111203, 0.895556, -19.9504)
physics_material_override = SubResource("PhysicsMaterial_0itx7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall4"]
shape = SubResource("BoxShape3D_sn4n4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall4"]
mesh = SubResource("BoxMesh_vsl7l")

[node name="CSGStairMaker3D" parent="." instance=ExtResource("1_lybql")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.62154, 0.6, -1.25274)
use_collision = true
size = Vector3(2.04736, 1, 1)
num_stairs = 8

[node name="CharacterBody3D" parent="." instance=ExtResource("2_ynylp")]
transform = Transform3D(0.0137352, 0, -0.999906, 0, 1, 0, 0.999906, 0, 0.0137352, -1.17389, 0.1, 2.30896)
Health = 100.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ti6gk")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0186914, -0.999825, 0, 0.999825, 0.0186914, 1.82796, 2.0496, 2.33268)
material_override = SubResource("StandardMaterial3D_137ot")
size = Vector3(0.0828857, 2.6669, 2.03699)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.96593, -0.258802, 0, 0.258802, 0.96593, 1.82796, 0.556887, 2.33268)
material_override = SubResource("StandardMaterial3D_iw1lc")
radius = 0.0361199
height = 1.34222

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.537204, 0.414346, 0.734662, -0.813121, 0.0229293, 0.581643, 0.224156, -0.909831, 0.349231, 10.0924, 13.5387, 0)

[node name="Enemy" parent="." instance=ExtResource("5_0btn4")]
transform = Transform3D(0.955598, 0, 0.294674, 0, 1, 0, -0.294674, 0, 0.955598, -1.70885, 0.1, -7.97785)
min_speed = 10
max_speed = 18
start_pos = Vector3(0, 0, 0)
air_cap = 0.85
air_accel = 800.0
air_move_speed = 500.0
ground_accel = 14.0
ground_decel = 10.0
ground_friction = 6.0
